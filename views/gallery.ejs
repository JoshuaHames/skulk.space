<%- include('partials/header'); -%>
<script>
    let errorsound = new Audio("/sounds/error.mp3")
    let lastSelected = null;
    let lastPath = null;

    function Playerror(){
        errorsound.play();
    }

    function clearLast(){
        if (lastSelected != null){
            CollapseItem(lastSelected, lastPath);
        }
    }

    function ExpandItem(element, imgName){
        clearLast()
        lastSelected = element;
        lastPath = imgName
        elementDesc = document.getElementById(element.id + "-desc")
        elementImg = document.getElementById(element.id + "-img")

        elementImg.src = '/gallery/' + imgName

        elementDesc.classList.remove("desc-expanded")

        elementImg.classList.add(element.id + '-imgExpanded')
        element.classList.add(element.id +'-expanded')

        elementDesc.classList.add("desc-expanded")
        
    }

    function CollapseItem(element, imgName){
        elementDesc = document.getElementById(element.id + "-desc")
        elementImg = document.getElementById(element.id + "-img")
        elementImg.src = '/gallery/thumb/' + imgName
        element.classList.remove(element.id +'-expanded')
        elementImg.classList.remove(element.id + '-imgExpanded')
        elementDesc.classList.remove("desc-expanded")

    }

    function ToggleExpand(element, imgName){
        if (element.classList.contains(element.id +'-expanded')){
            CollapseItem(element, imgName);
        } else {
            ExpandItem(element, imgName);
        }
    }


    let pagename = 'gal'

</script>

<style>

    @media only screen and (max-device-width: 1400px) {
    /* Mobile Styles */
    .SectionLabel{
        width: 50%;
        padding-top: 60px;
        margin-bottom: 0px;
    }

    .SectionHeader{
        text-align: center;

    }

    .SectionDetails{
        font-size: x-large;
        color: white
    }

    #Gallery-Container{
        align-self: center;
        padding: 30px;;
        width: 90%;
        display: flex;
        flex-wrap: wrap;
        position: relative;
        justify-content: center;
    }

    .img-desc{
        opacity: 0;
        animation: fadeout 0.15s forwards;
        font-size: 20px;
        margin: 5px;
        padding: 10px;
        padding-top: 5px;
        padding-bottom: 5px;
        border-left: #f9cecbe7 solid 2px;
        border-top: #f9cecbe7 solid 2px;
        border-right: #fffdb4de solid 2px;
        border-bottom: #fffdb4cb solid 2px;
        border-radius: 5px;
        background-color: #f1979094;
    }

    .desc-expanded{
        animation: fadein 0.6s forwards;
    }


    #page-body{
        display: grid;
        grid-column: 1;
        justify-content: center;
    }

    #title{
        align-self: center;
    }

    #FooterIcon{
        width: 10%;
    }

    @keyframes expand {
        0%{height: 276px; transform: scale(1);}
        100%{height: 356px; transform: scale(1.6);}
    }
    @keyframes collapse {
        0%{height: 356px; transform: scale(1.6);}
        100%{height: 276px; transform: scale(1);}
    }
    @keyframes fadein {
        0%{opacity: 0;}
        100%{opacity: 1;}
    }
    @keyframes fadeout {
        0%{opacity: 1;}
        100%{opacity: 0;}
    }
    @keyframes zoomImg{
        0%{width: 256px; height:256px;}
        100%{width: 1000px; height:1000px;}
    }
    #GalleryIntro{
        width: 75%;
        color: white;
        padding: 8px;
        background-color: #rgba(126, 95, 126, 0.705);;
        border-style: solid;
        border-radius: 8px;
        height: 25px;
        z-index: 50;
        opacity: 0;
        animation: HeaderExpand-Mobile .5s 1s forwards linear, RGBShadow-Large 6s linear alternate-reverse infinite;
    }

    h4{
        margin-top: 0px;
    }

    #GalIntroContent{
        opacity: 0;
        font-size: x-large;
        animation: fadein .5s 1.5s forwards linear;
    }

    @keyframes HeaderExpand-Mobile{
        0%{height: 25px; opacity: 0;}
        100%{height: 385px; opacity: 1;}
    }
}

@media only screen and (min-device-width: 1400px) {
    /* Desktop and Tablet Styles */

    .SectionLabel{
        width: 50%;
        padding-top: 60px;
        margin-bottom: 0px;
    }

    .SectionHeader{
        text-align: center;

    }

    .SectionDetails{
        font-size: x-large;
        color: white
    }

    .Gallery-Container{
        align-self: center;
        padding: 10px;;
        width: 80%;
        display: flex;
        flex-wrap: wrap;
        position: relative;
        justify-content: center;
    }

    .img-desc{
        opacity: 0;
        animation: fadeout 0.15s forwards;
        font-size: 15px;
        margin: 5px;
        padding: 10px;
        padding-top: 5px;
        padding-bottom: 5px;
        border-left: #f9cecbe7 solid 2px;
        border-top: #f9cecbe7 solid 2px;
        border-right: #fffdb4de solid 2px;
        border-bottom: #fffdb4cb solid 2px;
        border-radius: 5px;
        background-color: #f1979094;
    }

    .desc-expanded{
        animation: fadein 0.6s forwards;
    }


    #page-body{
        display: grid;
        grid-column: 1;
        justify-content: center;
    }

    #title{
        align-self: center;
    }

    #FooterIcon{
        width: 10%;
    }

    #GalleryIntro{
        width: 55%;
        color: white;
        padding: 8px;
        background-color: #rgba(126, 95, 126, 0.705);;
        border-radius: 1px;
        height: 25px;
        z-index: 50;
        opacity: 0;
        animation: HeaderExpand .5s 1s forwards linear, RGBShadow-Large 6s linear alternate-reverse infinite;
        
    }

    h4{
        margin-top: 0px;
        margin-bottom: 0px;
    }

    #GalIntroContent{
        opacity: 0;
        font-size: larger;
        animation: fadein .5s 1.5s forwards linear;
        text-shadow: 4px black;
    }

    @keyframes HeaderExpand{
        0%{height: 25px; opacity: 0;}
        100%{height: 190px; opacity: 1;}
    }

    @keyframes expand {
        0%{height: 276px; transform: scale(1);}
        100%{height: 356px; transform: scale(1.6);}
    }
    @keyframes collapse {
        0%{height: 356px; transform: scale(1.6);}
        100%{height: 276px; transform: scale(1);}
    }
    @keyframes fadein {
        0%{opacity: 0;}
        100%{opacity: 1;}
    }
    @keyframes fadeout {
        0%{opacity: 1;}
        100%{opacity: 0;}
    }
    @keyframes zoomImg{
        0%{width: 256px; height:256px;}
        100%{width: 1000px; height:1000px;}
    }
}

<%- include('partials/galsection'); -%>

<%- include('partials/VisitCounter'); -%>

<%- include('partials/footer'); -%>


